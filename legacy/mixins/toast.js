"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(o,a){try{var r=t[o](a),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}return i("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),wxApis=require("./../utils/wxApi.js"),apiMsgs=require("./../utils/apiMsgs.js"),messageMixin=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"onLoad",value:function(){}},{key:"apiToast",value:function(e){var t=(e.title||"")+"";setTimeout(function(){_wepy2.default.showToast({title:t,icon:e.icon||"none",mask:e.mask||!0,duration:e.duration||1500}),setTimeout(function(){_wepy2.default.hideToast()},3e3)},0)}},{key:"noAccount",value:function(){this.apiToast({title:apiMsgs["0100"]})}},{key:"noPassWord",value:function(){this.apiToast({title:apiMsgs["0101"]})}},{key:"invalidInfo",value:function(){this.apiToast({title:apiMsgs["0102"]})}},{key:"WXFailLogin",value:function(){this.apiToast({title:apiMsgs["0103"]})}},{key:"showLogin",value:function(){this.apiToast({title:apiMsgs["0104"]})}},{key:"showErrQrCode",value:function(e){this.apiToast({title:e+apiMsgs["0200"]})}},{key:"showMalformedQrCode",value:function(){this.apiToast({title:apiMsgs["0201"]})}},{key:"showInvalidQrCode",value:function(){this.apiToast({title:apiMsgs["0202"]})}},{key:"showUnpassedCode",value:function(){this.apiToast({title:apiMsgs["0203"]})}},{key:"showOpenedInfo",value:function(){this.apiToast({title:apiMsgs[10100]})}},{key:"showLocation",value:function(){this.apiToast({title:apiMsgs["0300"],duration:5e3})}},{key:"wxFailGetSetting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.apiToast({title:apiMsgs["0301"]+e})}},{key:"failFileOpen",value:function(){this.apiToast({title:apiMsgs["0400"]})}},{key:"failFileUpload",value:function(){this.apiToast({title:apiMsgs["0401"]})}},{key:"failImageChoose",value:function(){this.apiToast({title:apiMsgs["0402"]})}},{key:"taskCreatTip",value:function(e){_wepy2.default.showToast({title:e,icon:"none",duration:1500})}},{key:"showLoginModal",value:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_wepy2.default.showModal({title:"提示",content:"用户未登录，是否用智慧星账号登录？",cancelText:"不登录",confirmText:"去登录",confirmColor:""});case 3:t=e.sent,t.confirm?_wepy2.default.navigateTo({url:"/pages/login/login"}):this.$parent.globalData.isLogin=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),wxApis.logMethod("log","parse userInfo = "+JSON.stringify(e.t0),_wepy2.default.$instance.globalData.logInfo);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return e}()},{key:"showCommonModal",value:function(){function e(e,n,i){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_wepy2.default.showModal({title:t.title||"提示",content:t.content||"是否确定保存？",cancelText:t.cancelText||"取消",confirmText:t.confirmText||"确定",confirmColor:t.confirmColor||""});case 2:o=e.sent,o.confirm?n&&n():i&&i();case 4:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_wepy2.default.mixin);exports.default=messageMixin;